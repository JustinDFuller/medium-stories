<article class="h-entry">
  <header>
    <h1 class="p-name">Three reasons I avoid anonymous JS functions like the plague</h1>
  </header>
  <section data-field="subtitle" class="p-summary">
    You’re bound to see an anonymous function whenever your read code. Sometimes they are called lambdas, sometimes anonymous
    functions, either…
  </section>
  <section data-field="body" class="e-content">
    <section name="11f3" class="section section--body section--first section--last">
      <div class="section-divider">
        <hr class="section-divider">
      </div>
      <div class="section-content">
        <div class="section-inner sectionLayout--insetColumn">
          <h3 name="e3be" id="e3be" class="graf graf--h3 graf--leading graf--title">Three reasons I avoid anonymous JS functions like the plague</h3>
          <p name="ac63" id="ac63" class="graf graf--p graf-after--h3">You’re bound to see an anonymous function whenever your read code. Sometimes they are called lambdas, sometimes
            anonymous functions, either way,
            <em class="markup--em markup--p-em"> I think they’re bad</em>.</p>
          <p name="4ec2" id="4ec2" class="graf graf--p graf-after--p">In case you don’t know what an anonymous function is, here’s a quote:</p>
          <blockquote name="9995" id="9995" class="graf graf--blockquote graf-after--p">Anonymous functions are functions that are dynamically declared at runtime. They’re called anonymous functions
            because they aren’t given a name in the same way as normal functions. — Helen Emerson, Helephant.com</blockquote>
          <p
            name="c3d8" id="c3d8" class="graf graf--p graf-after--blockquote">They look a little something like this:</p>
            <pre name="3068" id="3068" class="graf graf--pre graf-after--p">function () { ... code ... }</pre>
            <pre name="cc44" id="cc44" class="graf graf--pre graf-after--pre">OR</pre>
            <pre name="21d3" id="21d3" class="graf graf--pre graf-after--pre">(args) =&gt; { ... code .. }</pre>
            <figure name="c1a5" id="c1a5" class="graf graf--figure graf--layoutOutsetLeft graf-after--pre">
              <div class="aspectRatioPlaceholder is-locked" style="max-width: 525px; max-height: 349px;">
                <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 66.4%;"></div>
                <img class="graf-image" data-image-id="1*EKIOEDfIunCnzQxo85NrRg.jpeg" data-width="599" data-height="398"
                  src="https://cdn-images-1.medium.com/max/600/1*EKIOEDfIunCnzQxo85NrRg.jpeg">
              </div>
            </figure>
            <p name="7f02" id="7f02" class="graf graf--p graf-after--figure">I’d like to try to make the case to you today that, in general, you should only use an anonymous function when
              absolutely necessary. They should not be your go-to, and you should understand why. Once you do, your code
              will be cleaner, easier to maintain, and bugs will become simpler to track down. Lets start with three reasons
              to avoid them:</p>
            <h3 name="69b2" id="69b2" class="graf graf--h3 graf-after--p">Stack traces</h3>
            <p name="8b51" id="8b51" class="graf graf--p graf-after--h3">Eventually, while you’re writing code, you’re going to run into an error, no matter how good you are at coding.
              Sometimes these errors are easy to track down, other times they aren’t.</p>
            <p name="2731" id="2731" class="graf graf--p graf-after--p">Errors are easiest to track down if, well, you know where they come from! To do this, we use what’s called a
              stack trace. If you don’t know anything about a stack trace,
              <a href="https://developers.google.com/web/tools/chrome-devtools/console/track-exceptions"
                data-href="https://developers.google.com/web/tools/chrome-devtools/console/track-exceptions" class="markup--anchor markup--p-anchor"
                rel="noopener" target="_blank">Google gives us a great intro</a>.</p>
            <p name="ac8c" id="ac8c" class="graf graf--p graf-after--p">Lets say we have a really simple project:</p>
            <pre name="616d" id="616d" class="graf graf--pre graf-after--p">function start () {<br> (function middle () {<br>   (function end () {<br>     console.lg(&#39;test&#39;);<br>    })()<br>  })()<br>}</pre>
            <p name="a7c4" id="a7c4" class="graf graf--p graf-after--pre">But it looks like we’ve done something incredibly silly, like mis-spell
              <code class="markup--code markup--p-code">console.log</code>. In our small project, it’s no big deal. But maybe this is a snippet from a HUGE project,
              with a large number of modules that are pulled together. On top of that, lets pretend you aren’t the one who
              made this silly error. That new Junior Dev checked it into the repo right before he left for vacation yesterday!</p>
            <p
              name="29d0" id="29d0" class="graf graf--p graf-after--p">Now, we have to track it down. With our nicely named functions we get a stack trace like this:</p>
              <figure name="d753"
                id="d753" class="graf graf--figure graf-after--p">
                <div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 133px;">
                  <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 19%;"></div>
                  <img class="graf-image" data-image-id="1*2xJ42hw41svXHKehiJcp6A.png" data-width="726" data-height="138"
                    src="https://cdn-images-1.medium.com/max/800/1*2xJ42hw41svXHKehiJcp6A.png">
                </div>
              </figure>
              <p name="9436" id="9436" class="graf graf--p graf-after--figure">Thanks for naming your functions, Junior Developer! Now we can easily track down that bug.</p>
              <p name="00d3"
                id="00d3" class="graf graf--p graf-after--p">But.. Once we’ve fixed that, it turns out there’s another bug. This time it was introduced by a more senior
                developer. This person knows about lambdas (anonymous functions) and makes heavy use of them in their code.
                It turns out they accidentally checked in a bug and it’s our job to track it down.</p>
              <p name="3133" id="3133"
                class="graf graf--p graf-after--p">Here’s the code:</p>
              <pre name="ac10" id="ac10" class="graf graf--pre graf-after--p">(function () {<br> (function () {<br>   (function () {<br>     console.lg(&#39;test&#39;);<br>    })();<br>  })();<br>})();</pre>
              <p name="f9d5" id="f9d5" class="graf graf--p graf-after--pre">Amazingly, this developer has also forgotten how to spell
                <code class="markup--code markup--p-code">console.log</code>! What are the chances?! But sadly, they have not named their functions.</p>
              <p name="db44"
                id="db44" class="graf graf--p graf-after--p">What does the console show us?</p>
              <figure name="d8e5" id="d8e5" class="graf graf--figure graf-after--p">
                <div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 134px;">
                  <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 19.2%;"></div>
                  <img class="graf-image" data-image-id="1*6WRmLi3uJmjw3CXn3SXqKg.png" data-width="740" data-height="142"
                    src="https://cdn-images-1.medium.com/max/800/1*6WRmLi3uJmjw3CXn3SXqKg.png">
                </div>
              </figure>
              <p name="fb55" id="fb55" class="graf graf--p graf-after--figure">Well… At least we have line numbers? In this example, It looks like we have about 7 lines of code. What if
                we were dealing with a massive codebase? 10k lines of code? And what if the line numbers were far apart?
                What if the code was minified, without a map file, rendering line numbers almost completely useless?</p>
              <p
                name="6b65" id="6b65" class="graf graf--p graf-after--p">I think you can answer all those questions pretty easily. The answer:
                <em class="markup--em markup--p-em">You would be having a very bad day.</em>
                </p>
                <h3 name="1a4f" id="1a4f" class="graf graf--h3 graf-after--p">Readability</h3>
                <p name="8237" id="8237" class="graf graf--p graf-after--h3">So, I hear you aren’t convinced yet. You still love your anonymous functions and you never create bugs. My
                  apologies, I had forgotten to address those of you that code perfectly. Lets take another shot at this!</p>
                <p
                  name="a423" id="a423" class="graf graf--p graf-after--p">Examine these two different code samples:</p>
                  <pre name="d485" id="d485" class="graf graf--pre graf-after--p">function initiate (arguments) {<br>  return new Promise((resolve, reject) =&gt; {<br>    try {<br>      if (arguments) {<br>         return resolve(true);<br>      }<br>      return resolve(false);<br>    } catch (e) {<br>      reject(e);<br>    }<br>  });<br>}</pre>
                  <pre name="b4a6" id="b4a6" class="graf graf--pre graf-after--pre">initiate(true)<br>  .then(res =&gt; {<br>        if (res) {<br>          doSomethingElse();<br>        } else {<br>          doSomething();<br>        }<br>  ).catch(e =&gt; {<br>            logError(e.message);<br>            restartApp();<br>          }<br>  );</pre>
                  <p name="4c5d" id="4c5d" class="graf graf--p graf-after--pre">This is a very contrived example, but I think you get the point. We have a method, it returns a promise,
                    we use that promise object/methods to handle the different possible responses.</p>
                  <p name="932b" id="932b"
                    class="graf graf--p graf-after--p">You might think this code isn’t that hard to read, but I think it could be better!</p>
                  <p name="bc8b" id="bc8b"
                    class="graf graf--p graf-after--p">What if we got rid of all the anonymous functions, then what?</p>
                  <pre name="ea6d" id="ea6d" class="graf graf--pre graf-after--p">function initiate (arguments) {<br>  return new Promise(checkForArguments);<br>}</pre>
                  <pre name="5bce" id="5bce" class="graf graf--pre graf-after--pre">function checkForArguments (resolve, reject) {<br>  try {<br>    if (arguments) {<br>     return resolve(true);   <br>    }<br>    return resolve(false);<br>  } catch (e) {<br>    reject(e);<br>  }<br>}</pre>
                  <pre name="ddf3" id="ddf3" class="graf graf--pre graf-after--pre">function evaluateRes (res) {<br>  if (res) {<br>    doSomethingElse();<br>  } else {<br>    doSomething();<br>  }<br>}</pre>
                  <pre name="fccd" id="fccd" class="graf graf--pre graf-after--pre">function handleError (e) {<br>  logError(e.message);<br>  restartApp();<br>}</pre>
                  <pre name="3cfb" id="3cfb" class="graf graf--pre graf-after--pre">initiate(true)<br>  .then(evaluateRes)<br>  .catch(handleError);</pre>
                  <p name="c5c5" id="c5c5" class="graf graf--p graf-after--pre">Alright, so lets be clear: This code is longer, but I think it’s also far more readable! Instead of anonymous
                    functions we have nicely named functions. As soon as we see them, the name gives us a hint at what is
                    going on. It removes a mental hurdle when evaluating the code.</p>
                  <p name="af1d" id="af1d" class="graf graf--p graf-after--p">It also helps to separate concerns. Instead of creating a method, passing it in, then running the logic,
                    in the second example the arguments given to
                    <code class="markup--code markup--p-code">then</code> and
                    <code class="markup--code markup--p-code">catch</code> simply point to the function where everything happens.</p>
                  <p name="1b72" id="1b72" class="graf graf--p graf-after--p">There’s not much else I can do to convince you that this is more readable. But maybe if you’re still not
                    convinced, I can try one last argument..</p>
                  <h3 name="37c3" id="37c3" class="graf graf--h3 graf-after--p">Reusability</h3>
                  <p name="92c7" id="92c7" class="graf graf--p graf-after--h3">Did you notice something about the last example? The functions went from being scoped to the arguments
                    and the initiate function to being available for all other functions in that scope to use!</p>
                  <p name="18da"
                    id="18da" class="graf graf--p graf-after--p">When you use anonymous functions they are much harder to use throughout your app. Reusability goes down
                    the drain, and you end up writing the same code over and over again. As we all know, the less code you
                    write, the less bugs you introduce, and the less your users have to load! Everyone wins!</p>
                  <p name="4a8e"
                    id="4a8e" class="graf graf--p graf-after--p">Conversely, named functions can be used throughout their entire scope, without needing to be passed around
                    as variables. Your code is automatically more reusable because, well, you can reuse it!</p>
                  <h3 name="9945"
                    id="9945" class="graf graf--h3 graf-after--p">Are Anonymous Functions Ever Good?</h3>
                  <p name="1913" id="1913" class="graf graf--p graf-after--h3">Yes. I hate to admit it, but they can be the best choice sometimes!</p>
                  <pre name="7ffd" id="7ffd" class="graf graf--pre graf-after--p">const stuff = [ <br>  { hide: true, name: &#39;justin&#39; }, <br>  { hide: false, name: &#39;lauren&#39; },<br>  { hide: false, name: &#39;max&#39; },<br>];</pre>
                  <pre name="8fcf" id="8fcf" class="graf graf--pre graf-after--pre">const filteredStuff = stuff.filter(s =&gt; !s.hide);</pre>
                  <p name="9ef1" id="9ef1" class="graf graf--p graf-after--pre">That anonymous function
                    <code class="markup--code markup--p-code">s =&gt; !s.hide</code> is so small and simple, it doesn’t hurt anyone to not be able to use it elsewhere.
                    It will also show up in the stack trace under
                    <code class="markup--code markup--p-code">stuff.filter</code>. If you need to reuse it, you’d be better off reusing the whole thing:</p>
                  <pre name="5209"
                    id="5209" class="graf graf--pre graf-after--p">function filterByHide (array) {<br>  return array.filter(item =&gt; !item.hide);<br>}</pre>
                  <p name="f6d5" id="f6d5" class="graf graf--p graf-after--pre">Sometimes you want to wrap all your code in an anonymous function to make sure the global scope isn’t polluted.</p>
                  <pre
                    name="fcfd" id="fcfd" class="graf graf--pre graf-after--p">(() =&gt; {
                    <br> ... your code here ...
                    <br>})();</pre>
                    <p name="df0b" id="df0b" class="graf graf--p graf-after--pre">Having the top level anonymous function in the stack trace really won’t hurt anyone. No code-reuse is
                      hurt because the entire purpose is to keep the methods contained.</p>
                    <p name="11b6" id="11b6" class="graf graf--p graf-after--p">I’m sure there are other good uses, feel free to share them in the comments!</p>
                    <p name="f086" id="f086"
                      class="graf graf--p graf-after--p">Thanks for reading, now go out there and stop writing anonymous functions!</p>
        </div>
        <div class="section-inner sectionLayout--outsetRow" data-paragraph-count="3">
          <figure name="9f38" id="9f38" class="graf graf--figure graf--layoutOutsetRow is-partialWidth graf-after--p" style="width: 33.333%;">
            <div class="aspectRatioPlaceholder is-locked">
              <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50.4%;"></div>
              <a href="http://bit.ly/HackernoonFB" data-href="http://bit.ly/HackernoonFB" class="graf-imageAnchor"
                data-action="image-link" data-action-observe-only="true">
                <img class="graf-image" data-image-id="1*0hqOaABQ7XGPT-OYNgiUBg.png" data-width="1136" data-height="572" src="https://cdn-images-1.medium.com/max/400/1*0hqOaABQ7XGPT-OYNgiUBg.png">
              </a>
            </div>
          </figure>
          <figure name="b494" id="b494" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure"
            style="width: 33.333%;">
            <div class="aspectRatioPlaceholder is-locked">
              <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50.4%;"></div>
              <a href="https://goo.gl/k7XYbx" data-href="https://goo.gl/k7XYbx" class="graf-imageAnchor" data-action="image-link"
                data-action-observe-only="true">
                <img class="graf-image" data-image-id="1*Vgw1jkA6hgnvwzTsfMlnpg.png" data-width="1136" data-height="572" src="https://cdn-images-1.medium.com/max/400/1*Vgw1jkA6hgnvwzTsfMlnpg.png">
              </a>
            </div>
          </figure>
          <figure name="d0ef" id="d0ef" class="graf graf--figure graf--layoutOutsetRowContinue is-partialWidth graf-after--figure"
            style="width: 33.333%;">
            <div class="aspectRatioPlaceholder is-locked">
              <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 50.4%;"></div>
              <a href="https://goo.gl/4ofytp" data-href="https://goo.gl/4ofytp" class="graf-imageAnchor" data-action="image-link"
                data-action-observe-only="true">
                <img class="graf-image" data-image-id="1*gKBpq1ruUi0FVK2UM_I4tQ.png" data-width="1136" data-height="572" src="https://cdn-images-1.medium.com/max/400/1*gKBpq1ruUi0FVK2UM_I4tQ.png">
              </a>
            </div>
          </figure>
        </div>
        <div class="section-inner sectionLayout--insetColumn">
          <blockquote name="f922" id="f922" class="graf graf--blockquote graf-after--figure">
            <a href="http://bit.ly/Hackernoon" data-href="http://bit.ly/Hackernoon" class="markup--anchor markup--blockquote-anchor"
              rel="noopener" target="_blank">Hacker Noon</a> is how hackers start their afternoons. We’re a part of the
            <a href="http://bit.ly/atAMIatAMI"
              data-href="http://bit.ly/atAMIatAMI" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener noopener"
              target="_blank">@AMI</a> family. We are now
            <a href="http://bit.ly/hackernoonsubmission" data-href="http://bit.ly/hackernoonsubmission"
              class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener noopener" target="_blank">accepting submissions</a> and happy to
            <a href="mailto:partners@amipublications.com" data-href="mailto:partners@amipublications.com"
              class="markup--anchor markup--blockquote-anchor" target="_blank">discuss advertising &amp; sponsorship</a> opportunities.</blockquote>
          <blockquote name="708a" id="708a" class="graf graf--blockquote graf-after--blockquote">If you enjoyed this story, we recommend reading our
            <a href="http://bit.ly/hackernoonlatestt" data-href="http://bit.ly/hackernoonlatestt"
              class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener noopener" target="_blank">latest tech stories</a> and
            <a href="https://hackernoon.com/trending" data-href="https://hackernoon.com/trending"
              class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener noopener" target="_blank">trending tech stories</a>. Until next time, don’t take the realities of the world for granted!</blockquote>
        </div>
        <div class="section-inner sectionLayout--fullWidth">
          <figure name="3936" id="3936" class="graf graf--figure graf--layoutFillWidth graf-after--blockquote graf--trailing">
            <div class="aspectRatioPlaceholder is-locked">
              <div class="aspectRatioPlaceholder-fill" style="padding-bottom: 12%;"></div>
              <img class="graf-image" data-image-id="1*35tCjoPcvq6LbB3I6Wegqw.jpeg" data-width="15000" data-height="1800"
                src="https://cdn-images-1.medium.com/max/2000/1*35tCjoPcvq6LbB3I6Wegqw.jpeg">
            </div>
          </figure>
        </div>
      </div>
    </section>
  </section>
  <footer>
    <p class="p-tags">Tagged in
      <a href="https://medium.com/tag/javascript" class="p-tag">JavaScript</a>,
      <a href="https://medium.com/tag/es6" class="p-tag">ES6</a>,
      <a href="https://medium.com/tag/programming" class="p-tag">Programming</a>,
      <a href="https://medium.com/tag/tech" class="p-tag">Tech</a>,
      <a href="https://medium.com/tag/functional-programming" class="p-tag">Functional Programming</a>
    </p>
    <p>By
      <a href="https://medium.com/@justindanielfuller" class="p-author h-card">Justin Fuller</a> on
      <a href="https://medium.com/p/7f985c27a006">
        <time class="dt-published" datetime="2017-02-13T01:07:03.900Z">February 13, 2017</time>
      </a>.</p>
    <p>
      <a href="https://medium.com/@justindanielfuller/three-reasons-i-avoid-anonymous-js-functions-like-the-plague-7f985c27a006"
        class="p-canonical">Canonical link</a>
    </p>
    <p>Exported from
      <a href="https://medium.com">Medium</a> on April 16, 2018.</p>
  </footer>
</article>