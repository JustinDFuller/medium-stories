<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>JavaScript APIs: Battery</title><meta name="description" content="Yes, you heard me right, the Battery API! As the web expands, so does the number of devices we expect to use our programs. This API can be…"><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">JavaScript APIs: Battery</h1>
</header>
<section data-field="subtitle" class="p-summary">
Yes, you heard me right, the Battery API! As the web expands, so does the number of devices we expect to use our programs. This API can be…
</section>
<section data-field="body" class="e-content">
<section name="2ef4" class="section section--body section--first"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="7dc3" id="7dc3" class="graf graf--h3 graf--leading graf--title">JavaScript APIs: Battery</h3><p name="1461" id="1461" class="graf graf--p graf-after--h3">Yes, you heard me right, the Battery API! As the web expands, so does the number of devices we expect to use our programs. This API can be particularly useful for protecting our mobile users and their precious battery life! So before we look at the API lets think of some reasons why we might need such a thing:</p><ul class="postList"><li name="96f0" id="96f0" class="graf graf--li graf-after--p">Decreasing processing and requests when the battery is low.</li><li name="838b" id="838b" class="graf graf--li graf-after--li">Provide users with warnings. Especially useful if your users are working with time-sensitive data or actions, or if you know your app is a power-drainer.</li><li name="82fb" id="82fb" class="graf graf--li graf-after--li">Serve a simpler, low power version of the site.</li></ul><p name="82e0" id="82e0" class="graf graf--p graf-after--li">So let’s take a look at how you might use it.</p><figure name="5ccb" id="5ccb" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/JustinDFuller/602e16f9cb147fecc441af9827238b3a.js"></script><figcaption class="imageCaption">Getting battery info from navigator.getBattery</figcaption></figure><p name="a984" id="a984" class="graf graf--p graf-after--figure">A few things to note in the above example:</p><ul class="postList"><li name="750a" id="750a" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">getBattery</code> is not available in all browsers. Make sure you perform a check before attempting to use it!</li><li name="9844" id="9844" class="graf graf--li graf-after--li">The return value of <code class="markup--code markup--li-code">getBattery</code> is a <code class="markup--code markup--li-code">Promise</code> which resolves with the <code class="markup--code markup--li-code">BatteryManager</code> object.</li><li name="80d5" id="80d5" class="graf graf--li graf-after--li">When the <code class="markup--code markup--li-code">onchange</code> function is called, you must re-inspect the original <code class="markup--code markup--li-code">BatteryManager</code> object that was provided by the promise. It will be modified and contain the new battery information.</li><li name="4162" id="4162" class="graf graf--li graf-after--li graf--trailing">When the <code class="markup--code markup--li-code">onchange</code> function is called it receives one argument, <code class="markup--code markup--li-code">event</code>, which helpfully contains <code class="markup--code markup--li-code">event.type</code> that tells us which battery event happened. This allows you to reuse a single event handler!</li></ul></div></div></section><section name="9f9d" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1f70" id="1f70" class="graf graf--h3 graf--leading">Using The Data</h3><p name="5fc2" id="5fc2" class="graf graf--p graf-after--h3">Now that we see how to <em class="markup--em markup--p-em">get </em>the data, let’s take a look at how we can <em class="markup--em markup--p-em">use</em> it!</p><p name="220d" id="220d" class="graf graf--p graf-after--p">In this example we will watch for the battery to get low, and show an alert when it’s below a certain level.</p><figure name="6b0b" id="6b0b" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/JustinDFuller/a35c05fd6dcebf8c8fe8f4f6335ba6c1.js"></script></figure><p name="5d0a" id="5d0a" class="graf graf--p graf-after--figure">The battery properties we are inspecting:</p><ul class="postList"><li name="9837" id="9837" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">dischargeTime</code> is the amount of time until the battery is empty, in seconds. Its value will be <code class="markup--code markup--li-code">infinity</code> if the device is plugged in to a power source.</li><li name="e69c" id="e69c" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">level</code> is a percentage. So <code class="markup--code markup--li-code">0.2</code> is 20%.</li></ul><p name="b915" id="b915" class="graf graf--p graf-after--li graf--trailing">You can customize these to fit your needs. In a highly time-sensitive environment you may want to let them know earlier than 20% or 20 minutes.</p></div></div></section><section name="f8ce" class="section section--body"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="a0a4" id="a0a4" class="graf graf--p graf--leading graf--trailing">A final note: Most devices will warn users when the battery is low, so you likely won’t need to add the example warning message to your application. Instead, you could limit your processes and display a message that processing is limited until the battery has been charged. Remember, this API is just another resource that allows you to solve problems for your users.</p></div></div></section><section name="6ca2" class="section section--body section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><p name="0c06" id="0c06" class="graf graf--p graf--leading">Feel free to check out some of my past posts: <a href="https://hackernoon.com/javascript-apis-console-23ebce270419#.w6dps5pi1" data-href="https://hackernoon.com/javascript-apis-console-23ebce270419#.w6dps5pi1" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Console API</a>, <a href="https://medium.com/@justindanielfuller/javascript-apis-video-api-db803f9fd1b7#.7vgvrfhrj" data-href="https://medium.com/@justindanielfuller/javascript-apis-video-api-db803f9fd1b7#.7vgvrfhrj" class="markup--anchor markup--p-anchor" target="_blank">Video API</a>.</p><blockquote name="e374" id="e374" class="graf graf--blockquote graf-after--p"><a href="http://bit.ly/Hackernoon" data-href="http://bit.ly/Hackernoon" class="markup--anchor markup--blockquote-anchor" rel="noopener nofollow noopener" target="_blank">Hacker Noon</a> is how hackers start their afternoons. We’re a part of the <a href="http://bit.ly/atAMIatAMI" data-href="http://bit.ly/atAMIatAMI" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener nofollow noopener" target="_blank">@AMI</a>family. We are now <a href="http://bit.ly/hackernoonsubmission" data-href="http://bit.ly/hackernoonsubmission" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener nofollow noopener" target="_blank">accepting submissions</a> and happy to <a href="mailto:partners@amipublications.com" data-href="mailto:partners@amipublications.com" class="markup--anchor markup--blockquote-anchor" target="_blank">discuss advertising &amp;sponsorship</a> opportunities.</blockquote><blockquote name="dca4" id="dca4" class="graf graf--blockquote graf-after--blockquote">To learn more, <a href="https://goo.gl/4ofytp" data-href="https://goo.gl/4ofytp" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">read our about page</a>, <a href="http://bit.ly/HackernoonFB" data-href="http://bit.ly/HackernoonFB" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">like/message us on Facebook</a>, or simply, <a href="https://goo.gl/k7XYbx" data-href="https://goo.gl/k7XYbx" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">tweet/DM @HackerNoon.</a></blockquote><blockquote name="708a" id="708a" class="graf graf--blockquote graf-after--blockquote graf--trailing">If you enjoyed this story, we recommend reading our <a href="http://bit.ly/hackernoonlatestt" data-href="http://bit.ly/hackernoonlatestt" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener nofollow noopener" target="_blank">latest tech stories</a> and <a href="https://hackernoon.com/trending" data-href="https://hackernoon.com/trending" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener nofollow noopener" target="_blank">trending tech stories</a>. Until next time, don’t take the realities of the world for granted!</blockquote></div></div></section>
</section>
<footer><p class="p-tags">Tagged in <a href="https://medium.com/tag/javascript" class="p-tag">JavaScript</a>, <a href="https://medium.com/tag/web-development" class="p-tag">Web Development</a>, <a href="https://medium.com/tag/programming" class="p-tag">Programming</a>, <a href="https://medium.com/tag/api" class="p-tag">API</a>, <a href="https://medium.com/tag/es6" class="p-tag">ES6</a></p><p>By <a href="https://medium.com/@justindanielfuller" class="p-author h-card">Justin Fuller</a> on <a href="https://medium.com/p/c72baa74c203"><time class="dt-published" datetime="2017-01-11T02:04:42.328Z">January 11, 2017</time></a>.</p><p><a href="https://medium.com/@justindanielfuller/javascript-apis-battery-c72baa74c203" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on April 16, 2018.</p></footer></article>

</body></html>