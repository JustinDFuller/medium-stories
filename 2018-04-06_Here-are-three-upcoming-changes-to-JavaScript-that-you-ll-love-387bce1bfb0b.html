<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Here are three upcoming changes to JavaScript that you’ll love</title><meta name="description" content="Let’s take a look at some useful upcoming features in JavaScript. You’ll see their syntax, links to keep up to date with their progress…"><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Here are three upcoming changes to JavaScript that you’ll love</h1>
</header>
<section data-field="subtitle" class="p-summary">
Let’s take a look at some useful upcoming features in JavaScript. You’ll see their syntax, links to keep up to date with their progress…
</section>
<section data-field="body" class="e-content">
<section name="806b" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1944" id="1944" class="graf graf--h3 graf--leading graf--title">Here are three upcoming changes to JavaScript that you’ll love</h3></div><div class="section-inner sectionLayout--outsetColumn"><figure name="cf91" id="cf91" class="graf graf--figure graf--layoutOutsetCenter graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 1000px; max-height: 667px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 66.7%;"></div><img class="graf-image" data-image-id="1*scD447eD1Uzy3Sx5cX3Hkw.jpeg" data-width="4272" data-height="2848" src="https://cdn-images-1.medium.com/max/1000/1*scD447eD1Uzy3Sx5cX3Hkw.jpeg"></div><figcaption class="imageCaption">Photo by <a href="https://unsplash.com/photos/pZVi92S-ZMs?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" data-href="https://unsplash.com/photos/pZVi92S-ZMs?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Alex Woods</a> on <a href="https://unsplash.com/search/photos/yes?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" data-href="https://unsplash.com/search/photos/yes?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText" class="markup--anchor markup--figure-anchor" rel="noopener" target="_blank">Unsplash</a></figcaption></figure></div><div class="section-inner sectionLayout--insetColumn"><p name="d270" id="d270" class="graf graf--p graf-after--figure">Let’s take a look at some useful upcoming features in JavaScript. You’ll see their syntax, links to keep up to date with their progress, and we’ll write a small test suite to show how to begin using these proposals today!</p><h4 name="50db" id="50db" class="graf graf--h4 graf-after--p">How JavaScript Changes</h4><figure name="fc16" id="fc16" class="graf graf--figure graf-after--h4"><div class="aspectRatioPlaceholder is-locked" style="max-width: 200px; max-height: 200px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 100%;"></div><img class="graf-image" data-image-id="0*_ttLRUUBsYYoQS5u." data-width="200" data-height="200" src="https://cdn-images-1.medium.com/max/800/0*_ttLRUUBsYYoQS5u."></div></figure><p name="2374" id="2374" class="graf graf--p graf-after--figure"><em class="markup--em markup--p-em">Feel free to skip this part if you are already familiar with how the </em><a href="http://www.ecma-international.org/memento/TC39.htm" data-href="http://www.ecma-international.org/memento/TC39.htm" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"><em class="markup--em markup--p-em">Ecma TC39</em></a><em class="markup--em markup--p-em"> committee decides on and processes changes to the JavaScript language.</em></p><p name="37b7" id="37b7" class="graf graf--p graf-after--p">For the rest of us who are curious about how the JavaScript programming language evolves, I’d like to give a quick overview of the process.</p><p name="17ae" id="17ae" class="graf graf--p graf-after--p">JavaScript is an implementation of the language standard called <a href="https://en.wikipedia.org/wiki/ECMAScript" data-href="https://en.wikipedia.org/wiki/ECMAScript" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">ECMAScript</a> which was created to standardize all the <a href="https://en.wikipedia.org/wiki/Category:JavaScript_dialect_engines" data-href="https://en.wikipedia.org/wiki/Category:JavaScript_dialect_engines" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">implementations </a>of the language as it evolved in the early years of web browsers.</p><p name="d70c" id="d70c" class="graf graf--p graf-after--p">There have been eight <a href="https://en.wikipedia.org/wiki/ECMAScript#Versions" data-href="https://en.wikipedia.org/wiki/ECMAScript#Versions" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">editions</a> of the ECMAScript standard, with seven releases (the fourth edition was abandoned).</p><p name="8c76" id="8c76" class="graf graf--p graf-after--p">Each <a href="https://en.wikipedia.org/wiki/JavaScript_engine#JavaScript_engines" data-href="https://en.wikipedia.org/wiki/JavaScript_engine#JavaScript_engines" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">JavaScript engine</a> begins implementing the changes specified after each release. <a href="https://kangax.github.io/compat-table/es6/" data-href="https://kangax.github.io/compat-table/es6/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">This chart</a> will show that not every engine implements every feature, and some engines take longer than others to implement the features. While this may seem sub-optimal, I believe it is better than having no standard at all!</p><h4 name="2913" id="2913" class="graf graf--h4 graf-after--p">Proposals</h4><p name="434c" id="434c" class="graf graf--p graf-after--h4">Each ECMAScript edition goes through a process of vetting proposals. If a proposal is deemed to be useful and backwards compatible, it will be included in the next edition.</p><p name="823a" id="823a" class="graf graf--p graf-after--p">Proposals have five stages that are outlined in <a href="https://tc39.github.io/process-document/" data-href="https://tc39.github.io/process-document/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">this document</a>. Every proposal starts out as a “strawman” or <a href="https://github.com/tc39/proposals/blob/master/stage-0-proposals.md" data-href="https://github.com/tc39/proposals/blob/master/stage-0-proposals.md" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">stage 0</a> where it is initially proposed. At this level, they have either not yet been presented to the technical committee, or they have not yet been rejected but still have not met the criteria to move on to the next stage.</p><p name="54ac" id="54ac" class="graf graf--p graf-after--p">None of the proposals that are shown below are in stage-0.</p><p name="bbd1" id="bbd1" class="graf graf--p graf-after--p">As a personal recommendation, I would like to encourage readers to avoid using stage-0 proposals in production applications until they are in a less-volatile stage. The purpose of this recommendation is simply to save you trouble in case the proposal is abandoned or drastically changed.</p><h4 name="e7e6" id="e7e6" class="graf graf--h4 graf-after--p">Test Suite</h4><p name="e377" id="e377" class="graf graf--p graf-after--h4">Introductions to programming features often show code snippets out of context, or they use the features to build an application. Since I’m a huge fan of <a href="https://en.wikipedia.org/wiki/Test-driven_development" data-href="https://en.wikipedia.org/wiki/Test-driven_development" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">TDD</a>, I believe that a better way to learn what a feature does is to test it.</p><p name="4627" id="4627" class="graf graf--p graf-after--p">We will use what <a href="https://smile.amazon.com/Test-Driven-Development-Kent-Beck/dp/0321146530/ref=smi_www_rco2_go_smi_2609328962?_encoding=UTF8&amp;%2AVersion%2A=1&amp;%2Aentries%2A=0&amp;ie=UTF8" data-href="https://smile.amazon.com/Test-Driven-Development-Kent-Beck/dp/0321146530/ref=smi_www_rco2_go_smi_2609328962?_encoding=UTF8&amp;%2AVersion%2A=1&amp;%2Aentries%2A=0&amp;ie=UTF8" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Jim Newkirk coined as <em class="markup--em markup--p-em">learning tests</em></a><em class="markup--em markup--p-em"> </em>to accomplish this<em class="markup--em markup--p-em">. </em>The tests we write will make assertions not about our own code, but instead about the programming language itself. This same concept can be useful when learning a third party API or any other language feature.</p><h4 name="aea4" id="aea4" class="graf graf--h4 graf-after--p">Transpilers</h4><p name="b95d" id="b95d" class="graf graf--p graf-after--h4"><em class="markup--em markup--p-em">Feel free to skip this section if you’re already familiar with transpilers.</em></p><p name="fd2e" id="fd2e" class="graf graf--p graf-after--p">Some of you may be wondering how we’ll be using language features that haven’t been implemented yet!</p><p name="c4c7" id="c4c7" class="graf graf--p graf-after--p">JavaScript, being the ever evolving language that it is, comes with a handful of <a href="https://scotch.io/tutorials/javascript-transpilers-what-they-are-why-we-need-them" data-href="https://scotch.io/tutorials/javascript-transpilers-what-they-are-why-we-need-them" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">transpilers</a> that compile JavaScript to JavaScript. On the surface that may not sound very helpful, but I assure you it is!</p><p name="2ad8" id="2ad8" class="graf graf--p graf-after--p">It allows us to write the latest version of JavaScript — including even stage-0 proposals — and still be able to execute it in today’s run time environments like web browsers and Node.js. <a href="https://babeljs.io/repl/#?babili=false&amp;browsers=&amp;build=&amp;builtIns=false&amp;code_lz=GYVwdgxgLglg9mABAEziARgGwKYGUCGAnogBQDOUATgJSIDeAUIopdlCJUhZYgNSIAiADSC-ibgG4GAXwYNQkWAkQR8ABxhR8mGAC9spbrUbNW7TuKoBtAAwBdAHRQ4AVTVrslAML4y2ErT83A5kGNwwYADmJACM1FKy8uDQ8EjYAB4QmPgwALaGVMZMLGwcXFRiAOQAhJUJcr6EkIgKKcpQ2BQB9EwA9L3i2AYAFnAA7oiaiLlwyDDAMJ2IUMMGjc2tSkh9A-ggUIg4-ABuSysGnQBMNjEArCpwuWr4sFgGm6lkiNoI2AD8MiAA&amp;debug=false&amp;forceAllTransforms=false&amp;shippedProposals=false&amp;circleciRepo=&amp;evaluate=false&amp;fileSize=false&amp;lineWrap=false&amp;presets=es2015%2Creact%2Cstage-0&amp;prettier=false&amp;targets=&amp;version=6.26.0&amp;envVersion=" data-href="https://babeljs.io/repl/#?babili=false&amp;browsers=&amp;build=&amp;builtIns=false&amp;code_lz=GYVwdgxgLglg9mABAEziARgGwKYGUCGAnogBQDOUATgJSIDeAUIopdlCJUhZYgNSIAiADSC-ibgG4GAXwYNQkWAkQR8ABxhR8mGAC9spbrUbNW7TuKoBtAAwBdAHRQ4AVTVrslAML4y2ErT83A5kGNwwYADmJACM1FKy8uDQ8EjYAB4QmPgwALaGVMZMLGwcXFRiAOQAhJUJcr6EkIgKKcpQ2BQB9EwA9L3i2AYAFnAA7oiaiLlwyDDAMJ2IUMMGjc2tSkh9A-ggUIg4-ABuSysGnQBMNjEArCpwuWr4sFgGm6lkiNoI2AD8MiAA&amp;debug=false&amp;forceAllTransforms=false&amp;shippedProposals=false&amp;circleciRepo=&amp;evaluate=false&amp;fileSize=false&amp;lineWrap=false&amp;presets=es2015%2Creact%2Cstage-0&amp;prettier=false&amp;targets=&amp;version=6.26.0&amp;envVersion=" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">It does this by changing our code to be as if it were written for an older version of JavaScript</a>.</p><p name="26e6" id="26e6" class="graf graf--p graf-after--p">One of the most popular JavaScript transpilers is <a href="https://babeljs.io/" data-href="https://babeljs.io/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Babel</a>. We’ll be using it in just a minute.</p><h4 name="607c" id="607c" class="graf graf--h4 graf-after--p">Setup</h4><p name="1bd9" id="1bd9" class="graf graf--p graf-after--h4">If you want to follow along with the code then feel free. You’ll want to set up an npm project and install the required dependencies.</p><p name="fce4" id="fce4" class="graf graf--p graf-after--p">You’ll need to have <a href="https://nodejs.org/en/" data-href="https://nodejs.org/en/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Node.js</a> and <a href="https://www.npmjs.com/" data-href="https://www.npmjs.com/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">NPM </a>installed.</p><p name="80b7" id="80b7" class="graf graf--p graf-after--p">To do so, you can run the following command in a new directory:</p><pre name="d185" id="d185" class="graf graf--pre graf-after--p">npm init -f &amp;&amp; npm i ava@1.0.0-beta.3 @babel/preset-env@7.0.0-beta.42 @babel/preset-stage-0@7.0.0-beta.42 @babel/register@7.0.0-beta.42 @babel/polyfill@7.0.0-beta.42 @babel/plugin-transform-runtime@7.0.0-beta.42 @babel/runtime@7.0.0-beta.42 --save-dev</pre><p name="d2c9" id="d2c9" class="graf graf--p graf-after--pre">You will then want to add the following to your <code class="markup--code markup--p-code">package.json</code> file:</p><pre name="0991" id="0991" class="graf graf--pre graf-after--p">&quot;scripts&quot;: {<br>  &quot;test&quot;: &quot;ava&quot;<br>},<br>&quot;ava&quot;: {    <br>  &quot;require&quot;: [      <br>    &quot;@babel/register&quot;,<br>    &quot;@babel/polyfill&quot;   <br>  ]  <br>}</pre><p name="00a3" id="00a3" class="graf graf--p graf-after--pre">Finally create a <code class="markup--code markup--p-code">.babelrc</code> file:</p><pre name="d21e" id="d21e" class="graf graf--pre graf-after--p">{  <br>  &quot;presets&quot;: [    <br>    [&quot;@babel/preset-env&quot;, {      <br>      &quot;targets&quot;: {        <br>        &quot;node&quot;: &quot;current&quot;      <br>      }    <br>    }],    <br>    &quot;@babel/preset-stage-0&quot;  <br>  ],  <br>  &quot;plugins&quot;: [    <br>    &quot;@babel/plugin-transform-runtime&quot;<br>  ]<br>}</pre><p name="1c91" id="1c91" class="graf graf--p graf-after--pre">Now you’re ready to start writing some tests!</p><h3 name="48d8" id="48d8" class="graf graf--h3 graf-after--p">1. Optional Chaining</h3><p name="0646" id="0646" class="graf graf--p graf-after--h3">In JavaScript we are constantly working with Objects. Sometimes these Objects do not have the exact shape that we expect. Below you’ll find a contrived example of a data object — maybe it was retrieved from a database or API call.</p><pre name="9f69" id="9f69" class="graf graf--pre graf-after--p">const data = {<br>  user: {<br>    address: {<br>      street: &#39;Pennsylvania Avenue&#39;,<br>    }, <br>  },<br>};</pre><p name="721d" id="721d" class="graf graf--p graf-after--pre">Oops, it looks like this user did not complete registration:</p><pre name="8de4" id="8de4" class="graf graf--pre graf-after--p">const data = {<br>  user: {},<br>};</pre><p name="2c23" id="2c23" class="graf graf--p graf-after--pre">Hypothetically, when I try to access the street on my app’s dashboard, I would get the following error:</p><pre name="5b74" id="5b74" class="graf graf--pre graf-after--p">console.log(data.user.address.street); // Uncaught TypeError: Cannot read property &#39;street&#39; of undefined</pre><p name="8506" id="8506" class="graf graf--p graf-after--pre">To avoid this, we currently must access the “street” property like this:</p><pre name="f7c8" id="f7c8" class="graf graf--pre graf-after--p">const street = data &amp;&amp; data.user &amp;&amp; data.user.address &amp;&amp; data.user.address.street;<br>console.log(street); // undefined</pre><p name="39ed" id="39ed" class="graf graf--p graf-after--pre">In my opinion, this method is:</p><ol class="postList"><li name="5176" id="5176" class="graf graf--li graf-after--p">Ugly</li><li name="4a8d" id="4a8d" class="graf graf--li graf-after--li">Burdensome</li><li name="fb70" id="fb70" class="graf graf--li graf-after--li">Verbose</li></ol><p name="9cb4" id="9cb4" class="graf graf--p graf-after--li">Here’s where optional chaining comes in. You can use it like this:</p><pre name="e1ac" id="e1ac" class="graf graf--pre graf-after--p">console.log(data.user?.address?.street); // undefined</pre><p name="7aa9" id="7aa9" class="graf graf--p graf-after--pre">That’s much easier, right? Now that we see the usefulness of this feature, we can go ahead and take a deeper look.</p><p name="7c4b" id="7c4b" class="graf graf--p graf-after--p">So lets write a test!</p><figure name="1a8e" id="1a8e" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/JustinDFuller/8f6488ea000e3f275fc12d8c584e7359.js"></script></figure><p name="7019" id="7019" class="graf graf--p graf-after--figure">Now we see that optional chaining maintains the previous functionality of dot notation. Next, let’s add a test for the unhappy path.</p><figure name="6032" id="6032" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/JustinDFuller/372294bec44f3a1d28b011891a654db1.js"></script></figure><p name="bee5" id="bee5" class="graf graf--p graf-after--figure">Here’s how optional chaining works for array property access:</p><figure name="839c" id="839c" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/JustinDFuller/19b069274a08921f6a2c588e6d6ee14f.js"></script></figure><p name="939e" id="939e" class="graf graf--p graf-after--figure">Sometimes we don’t know if a function is implemented inside an Object.</p><p name="7ab4" id="7ab4" class="graf graf--p graf-after--p">A common example of this is when you are using a web browser. Some older browsers may not have certain functions. Thankfully we can use optional chaining to detect if a function is implemented!</p><figure name="f9c0" id="f9c0" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/JustinDFuller/9934d728b7e67b83f742de91e9bd9296.js"></script></figure><p name="e2f9" id="e2f9" class="graf graf--p graf-after--figure">Expressions will not execute if the chain is not intact. Under the hood, the expressions is roughly transformed to this:</p><pre name="04de" id="04de" class="graf graf--pre graf-after--p">value == null ? value[some expression here]: undefined;</pre><p name="bfd9" id="bfd9" class="graf graf--p graf-after--pre">So nothing after the optional chain operator <code class="markup--code markup--p-code">?</code> will be executed if the value is undefined or null. We can see that rule in action in the following test:</p><figure name="6f9a" id="6f9a" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/JustinDFuller/e90099ab5b17a66ba61d697bdf331263.js"></script></figure><p name="b55b" id="b55b" class="graf graf--p graf-after--figure">And there you have it! Optional chaining reduces the need for if statements, imported libraries like lodash, and the need for chaining with <code class="markup--code markup--p-code">&amp;&amp;</code>.</p><h4 name="1dd4" id="1dd4" class="graf graf--h4 graf-after--p">A word of warning</h4><p name="d66e" id="d66e" class="graf graf--p graf-after--h4">You’ll hopefully notice that using this optional chain comes with some minimal level of overhead. Each level that you check with <code class="markup--code markup--p-code">?</code> must be wrapped in some sort of conditional logic under the hood. This will incur a performance hit if it is over used.</p><p name="6390" id="6390" class="graf graf--p graf-after--p">I would suggest using this with some sort of Object validation when you receive or create the Object. This will limit the need for these checks and therefore limit the performance hit.</p><h4 name="80a2" id="80a2" class="graf graf--h4 graf-after--p">Link</h4><p name="5a34" id="5a34" class="graf graf--p graf-after--h4">Here’s a <a href="https://github.com/TC39/proposal-optional-chaining" data-href="https://github.com/TC39/proposal-optional-chaining" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">link</a> to the proposal. I’ll also copy it at the bottom of this post so that you can see all the proposal links in one place!</p><h3 name="c4e1" id="c4e1" class="graf graf--h3 graf-after--p">2. Nullish coalescing</h3><blockquote name="c26e" id="c26e" class="graf graf--blockquote graf-after--h3">Coalesce: to blend or come together</blockquote><p name="3df0" id="3df0" class="graf graf--p graf-after--blockquote">Here are a few common operations that we see in JavaScript:</p><ol class="postList"><li name="aa43" id="aa43" class="graf graf--li graf-after--p">Checking for undefined or null values</li><li name="bb4f" id="bb4f" class="graf graf--li graf-after--li">Defaulting Values</li><li name="2688" id="2688" class="graf graf--li graf-after--li">Ensuring the literal values <code class="markup--code markup--li-code">0</code>, <code class="markup--code markup--li-code">false</code>, and <code class="markup--code markup--li-code">&#39;&#39;</code>are not defaulted.</li></ol><p name="33ee" id="33ee" class="graf graf--p graf-after--li">You may have seen it done like this:</p><pre name="f524" id="f524" class="graf graf--pre graf-after--p">value != null ? value : &#39;default value&#39;;</pre><p name="07a1" id="07a1" class="graf graf--p graf-after--pre">Or you may have seen it improperly done like this:</p><pre name="db97" id="db97" class="graf graf--pre graf-after--p">value || &#39;default value&#39;</pre><p name="bd3a" id="bd3a" class="graf graf--p graf-after--pre">The problem is that for the second implementation, our third operation condition is not met. The number zero, the boolean false, and an empty string are all considered false in this scenario. That’s why we must check for null and undefined explicitly.</p><pre name="164c" id="164c" class="graf graf--pre graf-after--p">value != null</pre><p name="eb0c" id="eb0c" class="graf graf--p graf-after--pre">Which is the same as:</p><pre name="f729" id="f729" class="graf graf--pre graf-after--p">value !== null &amp;&amp; value !== undefined</pre><p name="ae40" id="ae40" class="graf graf--p graf-after--pre">This is where the new proposal, nullish coalescing, comes in. Now we can do:</p><pre name="3716" id="3716" class="graf graf--pre graf-after--p">value ?? &#39;default value&#39;;</pre><p name="6bb7" id="6bb7" class="graf graf--p graf-after--pre">This protects us from accidentally defaulting those falsy values, but still catches null and undefined without a ternary and <code class="markup--code markup--p-code">!= null</code> check.</p><p name="072c" id="072c" class="graf graf--p graf-after--p">Now that we see the syntax, we can write a simple test to validate how it works.</p><figure name="1f57" id="1f57" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/JustinDFuller/b8e0ee9b53d2ea9d4e04f71875c385a1.js"></script></figure><p name="0eb6" id="0eb6" class="graf graf--p graf-after--figure">You can see in the tests that it uses default values for <code class="markup--code markup--p-code">null</code>, <code class="markup--code markup--p-code">undefined</code>, and <code class="markup--code markup--p-code">void 0</code> (which evaluates to <code class="markup--code markup--p-code">undefined</code>). It does not default falsy values like <code class="markup--code markup--p-code">0</code>, <code class="markup--code markup--p-code">&#39;&#39;</code>, and <code class="markup--code markup--p-code">false</code>. Check it out on GitHub <a href="https://github.com/tc39/proposal-nullish-coalescing" data-href="https://github.com/tc39/proposal-nullish-coalescing" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a>.</p><h3 name="a091" id="a091" class="graf graf--h3 graf-after--p">3. Pipeline operator</h3><p name="4940" id="4940" class="graf graf--p graf-after--h3">In functional programming, we have a term “<a href="https://medium.com/javascript-scene/composing-software-an-introduction-27b72500d6ea" data-href="https://medium.com/javascript-scene/composing-software-an-introduction-27b72500d6ea" class="markup--anchor markup--p-anchor" target="_blank">composition</a>,” which is the act of chaining together multiple function calls. Each function receives as its input the output of the previous function. Here’s an example of what we’re talking about in plain JavaScript:</p><pre name="48ce" id="48ce" class="graf graf--pre graf-after--p">function doubleSay (str) {<br>  return str + &quot;, &quot; + str;<br>}</pre><pre name="86aa" id="86aa" class="graf graf--pre graf-after--pre">function capitalize (str) {<br>  return str[0].toUpperCase() + str.substring(1);<br>}</pre><pre name="1249" id="1249" class="graf graf--pre graf-after--pre">function exclaim (str) {<br>  return str + &#39;!&#39;;<br>}</pre><pre name="2613" id="2613" class="graf graf--pre graf-after--pre">let result = exclaim(capitalize(doubleSay(&quot;hello&quot;)));<br>result //=&gt; &quot;Hello, hello!&quot;</pre><p name="ab07" id="ab07" class="graf graf--p graf-after--pre">This stringing together is so common that composition functions are present in most functional libraries like <a href="https://lodash.com/docs/4.17.5#flow" data-href="https://lodash.com/docs/4.17.5#flow" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">lodash</a> and <a href="http://ramdajs.com/docs/#compose" data-href="http://ramdajs.com/docs/#compose" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">ramda</a>.</p><p name="705f" id="705f" class="graf graf--p graf-after--p">With the new pipeline operator, you can skip the third party library and write the above like this:</p><pre name="91d7" id="91d7" class="graf graf--pre graf-after--p">let result = &quot;hello&quot;<br>  |&gt; doubleSay<br>  |&gt; capitalize<br>  |&gt; exclaim;<br><br>result //=&gt; &quot;Hello, hello!&quot;</pre><p name="c5a1" id="c5a1" class="graf graf--p graf-after--pre">The purpose is to make the chain more readable. It will also work nicely with partial application in the future, or for now it can be implemented like this:</p><pre name="21ba" id="21ba" class="graf graf--pre graf-after--p">let result = 1<br>  |&gt; (_ =&gt; Math.max(0, _));<br><br>result //=&gt; 1</pre><pre name="35c9" id="35c9" class="graf graf--pre graf-after--pre">let result = -5<br>  |&gt; (_ =&gt; Math.max(0, _));<br><br>result //=&gt; 0</pre><p name="21f4" id="21f4" class="graf graf--p graf-after--pre">Now that we see the syntax we can begin writing tests!</p><figure name="09e7" id="09e7" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/JustinDFuller/475f9772914bfd866da5bc854641f8f9.js"></script></figure><p name="afdf" id="afdf" class="graf graf--p graf-after--figure">One thing you may notice is that you must await the value once an async function is added to the pipeline. This is because the value has become a <code class="markup--code markup--p-code">Promise</code>. There are a few <a href="https://github.com/tc39/proposal-pipeline-operator" data-href="https://github.com/tc39/proposal-pipeline-operator" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">proposed changes</a> to support <code class="markup--code markup--p-code">|&gt; await asyncFunction</code> , but none have been implemented or decided on yet.</p><p name="69df" id="69df" class="graf graf--p graf-after--p">Alright, now that you’ve seen these proposals in action I hope you feel comfortable enough trying them out!</p><h4 name="abd9" id="abd9" class="graf graf--h4 graf-after--p">The full code for the learning tests can be found <a href="https://github.com/JustinDFuller/javascript-proposals-tests" data-href="https://github.com/JustinDFuller/javascript-proposals-tests" class="markup--anchor markup--h4-anchor" rel="noopener" target="_blank">here</a>.</h4><p name="2f31" id="2f31" class="graf graf--p graf-after--h4">Here are all four proposal links (bonus!):</p><div name="cac7" id="cac7" class="graf graf--mixtapeEmbed graf-after--p"><a href="https://github.com/TC39/proposal-optional-chaining" data-href="https://github.com/TC39/proposal-optional-chaining" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/TC39/proposal-optional-chaining"><strong class="markup--strong markup--mixtapeEmbed-strong">tc39/proposal-optional-chaining</strong><br><em class="markup--em markup--mixtapeEmbed-em">Contribute to proposal-optional-chaining development by creating an account on GitHub.</em>github.com</a><a href="https://github.com/TC39/proposal-optional-chaining" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="8661ea5da491d7e82306c2297fa647f7" data-thumbnail-img-id="0*N0s7wCUojNT_NuSQ." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*N0s7wCUojNT_NuSQ.);"></a></div><div name="5f6f" id="5f6f" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://github.com/tc39/proposal-nullish-coalescing" data-href="https://github.com/tc39/proposal-nullish-coalescing" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/tc39/proposal-nullish-coalescing"><strong class="markup--strong markup--mixtapeEmbed-strong">tc39/proposal-nullish-coalescing</strong><br><em class="markup--em markup--mixtapeEmbed-em">proposal-nullish-coalescing - Nullish coalescing proposal x ?? y</em>github.com</a><a href="https://github.com/tc39/proposal-nullish-coalescing" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="8135e2b12409d2da907c0b1cd4da1fd2" data-thumbnail-img-id="0*Ec52qnnh4mzLA6J-." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*Ec52qnnh4mzLA6J-.);"></a></div><div name="7b27" id="7b27" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed"><a href="https://github.com/tc39/proposal-partial-application" data-href="https://github.com/tc39/proposal-partial-application" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/tc39/proposal-partial-application"><strong class="markup--strong markup--mixtapeEmbed-strong">tc39/proposal-partial-application</strong><br><em class="markup--em markup--mixtapeEmbed-em">proposal-partial-application - Proposal to add partial application to ECMAScript</em>github.com</a><a href="https://github.com/tc39/proposal-partial-application" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="797b3e3b0b0aeb7ceab35904eee1c8cc" data-thumbnail-img-id="0*zB7BQrJnz_nieXUv." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*zB7BQrJnz_nieXUv.);"></a></div><div name="e872" id="e872" class="graf graf--mixtapeEmbed graf-after--mixtapeEmbed graf--trailing"><a href="https://github.com/tc39/proposal-pipeline-operator" data-href="https://github.com/tc39/proposal-pipeline-operator" class="markup--anchor markup--mixtapeEmbed-anchor" title="https://github.com/tc39/proposal-pipeline-operator"><strong class="markup--strong markup--mixtapeEmbed-strong">tc39/proposal-pipeline-operator</strong><br><em class="markup--em markup--mixtapeEmbed-em">proposal-pipeline-operator - A proposal for adding the simple-but-useful pipeline operator to JavaScript.</em>github.com</a><a href="https://github.com/tc39/proposal-pipeline-operator" class="js-mixtapeImage mixtapeImage u-ignoreBlock" data-media-id="7c746bf9d145f56462ae8416910237ea" data-thumbnail-img-id="0*fwI0JuYPZSK4xxk0." style="background-image: url(https://cdn-images-1.medium.com/fit/c/160/160/0*fwI0JuYPZSK4xxk0.);"></a></div></div></div></section>
</section>
<footer><p class="p-tags">Tagged in <a href="https://medium.com/tag/javascript" class="p-tag">JavaScript</a>, <a href="https://medium.com/tag/programming" class="p-tag">Programming</a>, <a href="https://medium.com/tag/tech" class="p-tag">Tech</a>, <a href="https://medium.com/tag/web-development" class="p-tag">Web Development</a>, <a href="https://medium.com/tag/software-development" class="p-tag">Software Development</a></p><p>By <a href="https://medium.com/@justindanielfuller" class="p-author h-card">Justin Fuller</a> on <a href="https://medium.com/p/387bce1bfb0b"><time class="dt-published" datetime="2018-04-06T03:43:19.505Z">April 6, 2018</time></a>.</p><p><a href="https://medium.com/@justindanielfuller/here-are-three-upcoming-changes-to-javascript-that-youll-love-387bce1bfb0b" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on April 16, 2018.</p></footer></article>

</body></html>