<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>JavaScript APIs: Video Api</title><meta name="description" content="In this series I will be exploring the different JavaScript APIs that are available for use in a browser environment. Some will be well…"><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">JavaScript APIs: Video Api</h1>
</header>
<section data-field="subtitle" class="p-summary">
In this series I will be exploring the different JavaScript APIs that are available for use in a browser environment. Some will be well…
</section>
<section data-field="body" class="e-content">
<section name="3bb4" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="1990" id="1990" class="graf graf--h3 graf--leading graf--title">JavaScript APIs: Video Api</h3><p name="d3cc" id="d3cc" class="graf graf--p graf-after--h3">In this series I will be exploring the different JavaScript APIs that are available for use in a browser environment. Some will be well known, others may be completely new to you. Hopefully each section will present you with some new information and useful real-world tips! So, let’s get started.</p><p name="241c" id="241c" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Not Just For YouTube</strong></p><p name="2afc" id="2afc" class="graf graf--p graf-after--p">If you haven’t used it before, you may not even know the Video API exists, or you may be under the impression it can only be used for creating a custom video player. However, if you just need to embed a video into your site, and don’t want to create your own fancy video player, the Video API still has something for you!</p><p name="ed60" id="ed60" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Remembering User Settings</strong></p><p name="9411" id="9411" class="graf graf--p graf-after--p">All options available to the video HTML tag, such as <code class="markup--code markup--p-code">autoplay</code>, <code class="markup--code markup--p-code">controls</code>, <code class="markup--code markup--p-code">loop</code>, and <code class="markup--code markup--p-code">src</code> can be set with JavaScript instead of HTML. So, imagine that you have an automatically playing video, but you want to let your users opt out of that probably-annoying feature, you could do the following:</p><figure name="2376" id="2376" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/JustinDFuller/ca8d3fe08f2d00ec7b04f1cd4853f79a.js"></script><figcaption class="imageCaption">Autoplay based on user settings.</figcaption></figure><p name="daf2" id="daf2" class="graf graf--p graf-after--figure">Now you’re only showing autoplay for those who are OK with that feature!</p><p name="9edf" id="9edf" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Playing the correct size video based on connection</strong></p><p name="8b67" id="8b67" class="graf graf--p graf-after--p">This next option is a bit more specific, and a bit more complicated, but it has huge benefits when it comes to user experience. You’ll have to play around with it to find the right balance for you and your users, but this should provide you with a good starting point.</p><p name="292b" id="292b" class="graf graf--p graf-after--p">The Video API comes with a set of events that happen over the course of a video’s lifecycle. <code class="markup--code markup--p-code">oncanplay</code>, <code class="markup--code markup--p-code">oncanplaythrough</code>, <code class="markup--code markup--p-code">onplay</code>, <code class="markup--code markup--p-code">onpause</code> are all examples of good lifecycle events that can be used, but we’re not concerned about when things are going well, we want to know when the video isn’t loading properly.</p><p name="55f4" id="55f4" class="graf graf--p graf-after--p">So we are going to watch for <code class="markup--code markup--p-code">onstalled</code>, <code class="markup--code markup--p-code">onwaiting</code>, <code class="markup--code markup--p-code">onerror</code> so that we can make changes when these events happen.</p><p name="d32a" id="d32a" class="graf graf--p graf-after--p">When we get the <code class="markup--code markup--p-code">onerror</code> event, we will give the user an option to reload the video. When we have <code class="markup--code markup--p-code">onstalled</code> or <code class="markup--code markup--p-code">onwaiting</code> we are going to check to see if this has happened before, how many times it has happened, and if it’s been too many times we’re going to change the <code class="markup--code markup--p-code">src</code> to a smaller bitrate video.</p><p name="e525" id="e525" class="graf graf--p graf-after--p">Here is an example of reloading the video (or giving the option to do so) on an error:</p><figure name="9d2f" id="9d2f" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/JustinDFuller/5a5572b1a59ef92db75cae0cdd2e72ac.js"></script><figcaption class="imageCaption">Add an error button/reload option when video errors occur.</figcaption></figure><p name="b93a" id="b93a" class="graf graf--p graf-after--figure">Here is an example of changing the <code class="markup--code markup--p-code">src</code> when the video is loading too often:</p><figure name="d1cc" id="d1cc" class="graf graf--figure graf--iframe graf-after--p"><script src="https://gist.github.com/JustinDFuller/ab65954961d76f15d8a273c99577d20b.js"></script><figcaption class="imageCaption">Change the video src if it buffers/pauses too often.</figcaption></figure><p name="1ed2" id="1ed2" class="graf graf--p graf-after--figure">Finally, a good resource for the Video API is <a href="http://www.w3schools.com/tags/ref_av_dom.asp" data-href="http://www.w3schools.com/tags/ref_av_dom.asp" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">http://www.w3schools.com/tags/ref_av_dom.asp</a>.</p><p name="a08b" id="a08b" class="graf graf--p graf-after--p">Stay tuned for more posts about JavaScript APIs!</p><blockquote name="3422" id="3422" class="graf graf--blockquote graf-after--p"><a href="http://bit.ly/Hackernoon" data-href="http://bit.ly/Hackernoon" class="markup--anchor markup--blockquote-anchor" rel="noopener nofollow noopener" target="_blank">Hacker Noon</a> is how hackers start their afternoons. We’re a part of the <a href="http://bit.ly/atAMIatAMI" data-href="http://bit.ly/atAMIatAMI" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener nofollow noopener" target="_blank">@AMI</a>family. We are now <a href="http://bit.ly/hackernoonsubmission" data-href="http://bit.ly/hackernoonsubmission" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener nofollow noopener" target="_blank">accepting submissions</a> and happy to <a href="mailto:partners@amipublications.com" data-href="mailto:partners@amipublications.com" class="markup--anchor markup--blockquote-anchor" target="_blank">discuss advertising &amp;sponsorship</a> opportunities.</blockquote><blockquote name="dca4" id="dca4" class="graf graf--blockquote graf-after--blockquote">To learn more, <a href="https://goo.gl/4ofytp" data-href="https://goo.gl/4ofytp" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">read our about page</a>, <a href="http://bit.ly/HackernoonFB" data-href="http://bit.ly/HackernoonFB" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">like/message us on Facebook</a>, or simply, <a href="https://goo.gl/k7XYbx" data-href="https://goo.gl/k7XYbx" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener" target="_blank">tweet/DM @HackerNoon.</a></blockquote><blockquote name="708a" id="708a" class="graf graf--blockquote graf-after--blockquote graf--trailing">If you enjoyed this story, we recommend reading our <a href="http://bit.ly/hackernoonlatestt" data-href="http://bit.ly/hackernoonlatestt" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener nofollow noopener" target="_blank">latest tech stories</a> and <a href="https://hackernoon.com/trending" data-href="https://hackernoon.com/trending" class="markup--anchor markup--blockquote-anchor" rel="nofollow noopener nofollow noopener" target="_blank">trending tech stories</a>. Until next time, don’t take the realities of the world for granted!</blockquote></div></div></section>
</section>
<footer><p class="p-tags">Tagged in <a href="https://medium.com/tag/videos" class="p-tag">Video</a>, <a href="https://medium.com/tag/javascript" class="p-tag">JavaScript</a>, <a href="https://medium.com/tag/browsers" class="p-tag">Browsers</a>, <a href="https://medium.com/tag/html5" class="p-tag">Html5</a>, <a href="https://medium.com/tag/programming" class="p-tag">Programming</a></p><p>By <a href="https://medium.com/@justindanielfuller" class="p-author h-card">Justin Fuller</a> on <a href="https://medium.com/p/db803f9fd1b7"><time class="dt-published" datetime="2017-01-06T12:33:09.947Z">January 6, 2017</time></a>.</p><p><a href="https://medium.com/@justindanielfuller/javascript-apis-video-api-db803f9fd1b7" class="p-canonical">Canonical link</a></p><p>Exported from <a href="https://medium.com">Medium</a> on April 16, 2018.</p></footer></article>

</body></html>